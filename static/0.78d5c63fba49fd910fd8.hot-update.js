webpackHotUpdate(0,{

/***/ 662:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_auth__ = __webpack_require__(189);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_session__ = __webpack_require__(367);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__types__ = __webpack_require__(190);\nvar _mutations;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar TOKEN_STORAGE_KEY = 'TOKEN_STORAGE_KEY';\n\nvar isProduction = process.env.NODE_ENV === 'production';\n\nvar initialState = {\n  authenticating: false,\n  error: false,\n  token: null\n};\n\nvar getters = {\n  isAuthenticated: function isAuthenticated(state) {\n    return !!state.token;\n  }\n};\n\nvar actions = {\n  login: function login(_ref, _ref2) {\n    var commit = _ref.commit;\n    var username = _ref2.username,\n        password = _ref2.password;\n\n    commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"e\" /* LOGIN_BEGIN */]);\n    return __WEBPACK_IMPORTED_MODULE_0__api_auth__[\"a\" /* default */].login(username, password).then(function (_ref3) {\n      var data = _ref3.data;\n      return commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"v\" /* SET_TOKEN */], data.key);\n    }).then(function () {\n      return commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"g\" /* LOGIN_SUCCESS */]);\n    }).catch(function () {\n      return commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"f\" /* LOGIN_FAILURE */]);\n    });\n  },\n  logout: function logout(_ref4) {\n    var commit = _ref4.commit;\n\n    return __WEBPACK_IMPORTED_MODULE_0__api_auth__[\"a\" /* default */].logout().then(function () {\n      return commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"h\" /* LOGOUT */]);\n    }).finally(function () {\n      return commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"u\" /* REMOVE_TOKEN */]);\n    });\n  },\n  initialize: function initialize(_ref5) {\n    var commit = _ref5.commit;\n\n    var token = localStorage.getItem(TOKEN_STORAGE_KEY);\n\n    if (isProduction && token) {\n      commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"u\" /* REMOVE_TOKEN */]);\n    }\n\n    if (!isProduction && token) {\n      commit(__WEBPACK_IMPORTED_MODULE_2__types__[\"v\" /* SET_TOKEN */], token);\n    }\n  }\n};\n\nvar mutations = (_mutations = {}, _defineProperty(_mutations, __WEBPACK_IMPORTED_MODULE_2__types__[\"e\" /* LOGIN_BEGIN */], function (state) {\n  state.authenticating = true;\n  state.error = false;\n}), _defineProperty(_mutations, __WEBPACK_IMPORTED_MODULE_2__types__[\"f\" /* LOGIN_FAILURE */], function (state) {\n  state.authenticating = false;\n  state.error = true;\n}), _defineProperty(_mutations, __WEBPACK_IMPORTED_MODULE_2__types__[\"g\" /* LOGIN_SUCCESS */], function (state) {\n  state.authenticating = false;\n  state.error = false;\n}), _defineProperty(_mutations, __WEBPACK_IMPORTED_MODULE_2__types__[\"h\" /* LOGOUT */], function (state) {\n  state.authenticating = false;\n  state.error = false;\n}), _defineProperty(_mutations, __WEBPACK_IMPORTED_MODULE_2__types__[\"v\" /* SET_TOKEN */], function (state, token) {\n  if (!isProduction) localStorage.setItem(TOKEN_STORAGE_KEY, token);\n  __WEBPACK_IMPORTED_MODULE_1__api_session__[\"a\" /* default */].defaults.headers.Authorization = 'Token ' + token;\n  state.token = token;\n  console.log(token);\n}), _defineProperty(_mutations, __WEBPACK_IMPORTED_MODULE_2__types__[\"u\" /* REMOVE_TOKEN */], function (state) {\n  localStorage.removeItem(TOKEN_STORAGE_KEY);\n  delete __WEBPACK_IMPORTED_MODULE_1__api_session__[\"a\" /* default */].defaults.headers.Authorization;\n  state.token = null;\n}), _mutations);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  namespaced: true,\n  state: initialState,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(54)))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvYXV0aC5qcz84ZjAxIl0sIm5hbWVzIjpbIlRPS0VOX1NUT1JBR0VfS0VZIiwiaXNQcm9kdWN0aW9uIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiaW5pdGlhbFN0YXRlIiwiYXV0aGVudGljYXRpbmciLCJlcnJvciIsInRva2VuIiwiZ2V0dGVycyIsImlzQXV0aGVudGljYXRlZCIsInN0YXRlIiwiYWN0aW9ucyIsImxvZ2luIiwiY29tbWl0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkxPR0lOX0JFR0lOIiwiYXV0aCIsInRoZW4iLCJkYXRhIiwiU0VUX1RPS0VOIiwia2V5IiwiTE9HSU5fU1VDQ0VTUyIsImNhdGNoIiwiTE9HSU5fRkFJTFVSRSIsImxvZ291dCIsIkxPR09VVCIsImZpbmFsbHkiLCJSRU1PVkVfVE9LRU4iLCJpbml0aWFsaXplIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm11dGF0aW9ucyIsInNldEl0ZW0iLCJzZXNzaW9uIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVJdGVtIiwibmFtZXNwYWNlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7O0FBVUEsSUFBTUEsb0JBQW9CLG1CQUExQjs7QUFFQSxJQUFNQyxlQUFlQyxRQUFRQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBOUM7O0FBRUEsSUFBTUMsZUFBZTtBQUNuQkMsa0JBQWdCLEtBREc7QUFFbkJDLFNBQU8sS0FGWTtBQUduQkMsU0FBTztBQUhZLENBQXJCOztBQU1BLElBQU1DLFVBQVU7QUFDZEMsbUJBQWlCO0FBQUEsV0FBUyxDQUFDLENBQUNDLE1BQU1ILEtBQWpCO0FBQUE7QUFESCxDQUFoQjs7QUFJQSxJQUFNSSxVQUFVO0FBQ2RDLE9BRGMsOEJBQzRCO0FBQUEsUUFBbENDLE1BQWtDLFFBQWxDQSxNQUFrQztBQUFBLFFBQXRCQyxRQUFzQixTQUF0QkEsUUFBc0I7QUFBQSxRQUFaQyxRQUFZLFNBQVpBLFFBQVk7O0FBQ3hDRixXQUFPRywyREFBUDtBQUNBLFdBQU9DLDBEQUFJQSxDQUFDTCxLQUFMLENBQVdFLFFBQVgsRUFBcUJDLFFBQXJCLEVBQ0pHLElBREksQ0FDQztBQUFBLFVBQUdDLElBQUgsU0FBR0EsSUFBSDtBQUFBLGFBQWNOLE9BQU9PLHlEQUFQLEVBQWtCRCxLQUFLRSxHQUF2QixDQUFkO0FBQUEsS0FERCxFQUVKSCxJQUZJLENBRUM7QUFBQSxhQUFNTCxPQUFPUyw2REFBUCxDQUFOO0FBQUEsS0FGRCxFQUdKQyxLQUhJLENBR0U7QUFBQSxhQUFNVixPQUFPVyw2REFBUCxDQUFOO0FBQUEsS0FIRixDQUFQO0FBSUQsR0FQYTtBQVFkQyxRQVJjLHlCQVFLO0FBQUEsUUFBVlosTUFBVSxTQUFWQSxNQUFVOztBQUNqQixXQUFPSSwwREFBSUEsQ0FBQ1EsTUFBTCxHQUNKUCxJQURJLENBQ0M7QUFBQSxhQUFNTCxPQUFPYSxzREFBUCxDQUFOO0FBQUEsS0FERCxFQUVKQyxPQUZJLENBRUk7QUFBQSxhQUFNZCxPQUFPZSw0REFBUCxDQUFOO0FBQUEsS0FGSixDQUFQO0FBR0QsR0FaYTtBQWFkQyxZQWJjLDZCQWFTO0FBQUEsUUFBVmhCLE1BQVUsU0FBVkEsTUFBVTs7QUFDckIsUUFBTU4sUUFBUXVCLGFBQWFDLE9BQWIsQ0FBcUJoQyxpQkFBckIsQ0FBZDs7QUFFQSxRQUFHQyxnQkFBZ0JPLEtBQW5CLEVBQTBCO0FBQ3hCTSxhQUFPZSw0REFBUDtBQUNEOztBQUVELFFBQUcsQ0FBQzVCLFlBQUQsSUFBaUJPLEtBQXBCLEVBQTJCO0FBQ3pCTSxhQUFPTyx5REFBUCxFQUFrQmIsS0FBbEI7QUFDRDtBQUNGO0FBdkJhLENBQWhCOztBQTBCQSxJQUFNeUIsMERBQ0hoQiwyREFERyxZQUNVTixLQURWLEVBQ2lCO0FBQ25CQSxRQUFNTCxjQUFOLEdBQXVCLElBQXZCO0FBQ0FLLFFBQU1KLEtBQU4sR0FBYyxLQUFkO0FBQ0QsQ0FKRywrQkFLSGtCLDZEQUxHLFlBS1lkLEtBTFosRUFLbUI7QUFDckJBLFFBQU1MLGNBQU4sR0FBdUIsS0FBdkI7QUFDQUssUUFBTUosS0FBTixHQUFjLElBQWQ7QUFDRCxDQVJHLCtCQVNIZ0IsNkRBVEcsWUFTWVosS0FUWixFQVNtQjtBQUNyQkEsUUFBTUwsY0FBTixHQUF1QixLQUF2QjtBQUNBSyxRQUFNSixLQUFOLEdBQWMsS0FBZDtBQUNELENBWkcsK0JBYUhvQixzREFiRyxZQWFLaEIsS0FiTCxFQWFZO0FBQ2RBLFFBQU1MLGNBQU4sR0FBdUIsS0FBdkI7QUFDQUssUUFBTUosS0FBTixHQUFjLEtBQWQ7QUFDRCxDQWhCRywrQkFpQkhjLHlEQWpCRyxZQWlCUVYsS0FqQlIsRUFpQmVILEtBakJmLEVBaUJzQjtBQUN4QixNQUFJLENBQUNQLFlBQUwsRUFBbUI4QixhQUFhRyxPQUFiLENBQXFCbEMsaUJBQXJCLEVBQXdDUSxLQUF4QztBQUNuQjJCLCtEQUFPQSxDQUFDQyxRQUFSLENBQWlCQyxPQUFqQixDQUF5QkMsYUFBekIsY0FBa0Q5QixLQUFsRDtBQUNBRyxRQUFNSCxLQUFOLEdBQWNBLEtBQWQ7QUFDQStCLFVBQVFDLEdBQVIsQ0FBWWhDLEtBQVo7QUFDRCxDQXRCRywrQkF1QkhxQiw0REF2QkcsWUF1QldsQixLQXZCWCxFQXVCa0I7QUFDcEJvQixlQUFhVSxVQUFiLENBQXdCekMsaUJBQXhCO0FBQ0EsU0FBT21DLDZEQUFPQSxDQUFDQyxRQUFSLENBQWlCQyxPQUFqQixDQUF5QkMsYUFBaEM7QUFDQTNCLFFBQU1ILEtBQU4sR0FBYyxJQUFkO0FBQ0QsQ0EzQkcsY0FBTjs7QUErQmU7QUFDYmtDLGNBQVksSUFEQztBQUViL0IsU0FBT04sWUFGTTtBQUdiSSxrQkFIYTtBQUliRyxrQkFKYTtBQUticUI7QUFMYSxDQUFmLEUiLCJmaWxlIjoiNjYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF1dGggZnJvbSAnLi4vYXBpL2F1dGgnO1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnLi4vYXBpL3Nlc3Npb24nO1xuXG5pbXBvcnQge1xuICBMT0dJTl9CRUdJTixcbiAgTE9HSU5fRkFJTFVSRSxcbiAgTE9HSU5fU1VDQ0VTUyxcbiAgTE9HT1VULFxuICBSRU1PVkVfVE9LRU4sXG4gIFNFVF9UT0tFTixcbn0gZnJvbSAnLi90eXBlcyc7XG5cblxuY29uc3QgVE9LRU5fU1RPUkFHRV9LRVkgPSAnVE9LRU5fU1RPUkFHRV9LRVknO1xuXG5jb25zdCBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGF1dGhlbnRpY2F0aW5nOiBmYWxzZSxcbiAgZXJyb3I6IGZhbHNlLFxuICB0b2tlbjogbnVsbCxcbn07XG5cbmNvbnN0IGdldHRlcnMgPSB7XG4gIGlzQXV0aGVudGljYXRlZDogc3RhdGUgPT4gISFzdGF0ZS50b2tlbixcbn1cblxuY29uc3QgYWN0aW9ucyA9IHtcbiAgbG9naW4oeyBjb21taXQgfSwgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSkge1xuICAgIGNvbW1pdChMT0dJTl9CRUdJTik7XG4gICAgcmV0dXJuIGF1dGgubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiBjb21taXQoU0VUX1RPS0VOLCBkYXRhLmtleSkpXG4gICAgICAudGhlbigoKSA9PiBjb21taXQoTE9HSU5fU1VDQ0VTUykpXG4gICAgICAuY2F0Y2goKCkgPT4gY29tbWl0KExPR0lOX0ZBSUxVUkUpKTtcbiAgfSxcbiAgbG9nb3V0KHsgY29tbWl0IH0pIHtcbiAgICByZXR1cm4gYXV0aC5sb2dvdXQoKVxuICAgICAgLnRoZW4oKCkgPT4gY29tbWl0KExPR09VVCkpXG4gICAgICAuZmluYWxseSgoKSA9PiBjb21taXQoUkVNT1ZFX1RPS0VOKSk7XG4gIH0sXG4gIGluaXRpYWxpemUoeyBjb21taXQgfSkge1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU5fU1RPUkFHRV9LRVkpO1xuXG4gICAgaWYoaXNQcm9kdWN0aW9uICYmIHRva2VuKSB7XG4gICAgICBjb21taXQoUkVNT1ZFX1RPS0VOKTtcbiAgICB9XG5cbiAgICBpZighaXNQcm9kdWN0aW9uICYmIHRva2VuKSB7XG4gICAgICBjb21taXQoU0VUX1RPS0VOLCB0b2tlbik7XG4gICAgfVxuICB9LFxufTtcblxuY29uc3QgbXV0YXRpb25zID0ge1xuICBbTE9HSU5fQkVHSU5dKHN0YXRlKSB7XG4gICAgc3RhdGUuYXV0aGVudGljYXRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLmVycm9yID0gZmFsc2U7XG4gIH0sXG4gIFtMT0dJTl9GQUlMVVJFXShzdGF0ZSkge1xuICAgIHN0YXRlLmF1dGhlbnRpY2F0aW5nID0gZmFsc2U7XG4gICAgc3RhdGUuZXJyb3IgPSB0cnVlO1xuICB9LFxuICBbTE9HSU5fU1VDQ0VTU10oc3RhdGUpIHtcbiAgICBzdGF0ZS5hdXRoZW50aWNhdGluZyA9IGZhbHNlO1xuICAgIHN0YXRlLmVycm9yID0gZmFsc2U7XG4gIH0sXG4gIFtMT0dPVVRdKHN0YXRlKSB7XG4gICAgc3RhdGUuYXV0aGVudGljYXRpbmcgPSBmYWxzZTtcbiAgICBzdGF0ZS5lcnJvciA9IGZhbHNlO1xuICB9LFxuICBbU0VUX1RPS0VOXShzdGF0ZSwgdG9rZW4pIHtcbiAgICBpZiAoIWlzUHJvZHVjdGlvbikgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVE9LRU5fU1RPUkFHRV9LRVksIHRva2VuKTtcbiAgICBzZXNzaW9uLmRlZmF1bHRzLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBUb2tlbiAke3Rva2VufWA7XG4gICAgc3RhdGUudG9rZW4gPSB0b2tlbjtcbiAgICBjb25zb2xlLmxvZyh0b2tlbik7XG4gIH0sXG4gIFtSRU1PVkVfVE9LRU5dKHN0YXRlKSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVE9LRU5fU1RPUkFHRV9LRVkpO1xuICAgIGRlbGV0ZSBzZXNzaW9uLmRlZmF1bHRzLmhlYWRlcnMuQXV0aG9yaXphdGlvbjtcbiAgICBzdGF0ZS50b2tlbiA9IG51bGw7XG4gIH0sXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZXNwYWNlZDogdHJ1ZSxcbiAgc3RhdGU6IGluaXRpYWxTdGF0ZSxcbiAgZ2V0dGVycyxcbiAgYWN0aW9ucyxcbiAgbXV0YXRpb25zLFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdG9yZS9hdXRoLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///662\n");

/***/ })

})